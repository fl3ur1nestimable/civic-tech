<!--
    Authors : Thibault Cheneviere, Thom Guillot
    Mail : thibault.cheneviere@telecomnancy.eu, thom.guillot@telecomnancy.eu
    Date : 24/12/2021
-->

{% extends 'layout.html' %}

{% block header %}
    <!-- CSS dependencies -->
    <link rel='stylesheet' type='text/css' href="{{ url_for('static', filename='css/home.css') }}">

    <!-- Page title -->
    <title>Page d'accueil</title>
{% endblock header %}

{% block container %}
    <div class="home-banner bg-danger bg-gradient">
        <h2>Bienvenue</h2>
    </div>
    <div class="image text-center" id="home-img">
        <div class="row align-items-center">
            <div class="col">
                <img src="/static/images/zd.jpg" class="img-fluid">
            </div>
            <div class="col">
                <img src="/static/images/home-img.jpg">
            </div>
            <div class="col">
                <img src="/static/images/zd.jpg" class="img-fluid">
            </div>
        </div>
    </div>
    <div class="buttons">
        <button type="button" id="helpbut" class="btn btn-outline-danger btn-lg" disabled aria-disabled="true">Comment ça marche ?</button>
        <button type="button" id="candbut" class="btn btn-outline-danger btn-lg" aria-disabled="true">Liste des candidats</button>
    </div>
    <div id="help">
        <div class="border border-4 border-danger">
            <h2 class="text-center">Comment ça marche ?</h2>
        </div>
        <div>
            <h6 id="entete">
                Avant de naviguer sur le site, il est important de comprendre le fonctionnement de celui-ci.
                Les candidats des élections procédent à leur inscription sur le site par le biais d'un modérateur.
                Les informations renseignées sont ensuite affichées sous forme de <strong>cartes</strong> dont vous pouvez voir un exemple
                en côté de page. Chaque carte correspond donc à un candidat et sa liste électorale. 
                Les parties suivantes vous permettront d'avoir une compréhension plus étendue sur l'intérêt des cartes.
            </h6>
            <div class="d-flex justify-content-center align-items-center content">
                <div class="p-1 col-8">
                    <div class="row align-items-center g-2">
                        <div class="col-6">
                            <h3 class="text-center">Les Cartes</h3>
                            <p class="description">
                                Les cartes sont organisées de la façon suivante :
                                <ul>
                                    <li>Présentation du candidat</li>
                                    <li>Statistiques du candidat</li>
                                    <li>Début du programme du candidat</li>
                                </ul>
                            </p>
                            <p class="description">
                                La présentation du candidat décrit son nom, sa photo, et son travail.
                                <br/>
                                Les statistiques du candidat montrent le pourcentage d'intérêt porté au thème en question dans le programme du candidat. Trois 
                                thèmes sont représentés : l'environnement, l'économie et le social.
                                <br/>
                                Le début du programme du candidat est aussi affiché sur les cartes afin d'avoir un aperçu de celui-ci. Les candidats y mettent
                                généralement un condensé de ce qu'ils abordent à leur inscription sur le site.
                                <br/>
                                Toutes ces informations vous permettront de naviguer rapidement et efficacement sur le site. Un bouton vous permet notamment
                                d'accéder à la page complète du candidat où vous pourrez y trouver le programme complet du candidat et des informations supplémentaires.
                            </p> 
                        </div>
                        <div class="col-6">
                            <h3 class="text-center">Les Statistiques</h3>
                            <p class="description">
                                Les thèmes pris en compte ici sont donc l'environnement, l'économie et le social.
                                <br/>
                                Par l'analyse du programme du candidat via mots-clés, on détermine le pourcentage de ces mots-clés qui correspondent à chacun des thèmes.
                                On associe alors ces pourcentages à des barres de progression avec en <span class="text-success">vert</span> l'environnement, en 
                                <span class="text-primary">bleu</span> le social et en <span class="text-danger">rouge</span> l'économie.
                                <br/>
                                Placés ensuite sur le côté des cartes, ils permettent de vous donner un bref résumé des termes abordés par le candidat afin de savoir s'il 
                                est pertinent pour vous de lire le programme complet du candidat.
                            </p>
                            <br/>
                            <h3 class="text-center">Évaluer les candidats</h3>
                            <p class="description">
                                Chaque candidat possède des statistiques attribuées à l'enregistrement de son programme qui sont ensuite modifiables par vous, les visiteurs.
                                Une fois une statistique modifiée jusqu'à plus ou moins 5%, elle sera figée et ne sera plus du tout affectable.
                                <br/>
                                Cette fonctionnalité permet donc de valider par l'opinion publique la véracité de l'ancrage du programme dans les thèmes proposés.
                            </p>
                        </div>
                    </div>
                </div>
                <div class="p-2 col-4">
                    <div id="carouselExampleDark" class="carousel carousel-dark slide carousel-fade" data-bs-ride="carousel">
                        <div class="carousel-inner text-center">
                            <div class="carousel-item active">
                                <div class="row row-cols-1 row-cols-md-1 g-4">
                                    <div class="col">
                                        <div class="card h-100 border-danger">
                                            <div class="card-header text-center">
                                                <h5 class="card-title">
                                                    Nom du Candidat
                                                    <br/>
                                                    <small class="text-muted">Travail du candidat</small>
                                                </h5>
                                                <i>"Citation"</i>
                                            </div>
                                            <div class="row g-0 align-items-center" id="cardtop">
                                                <div class="col-md-4">
                                                    <img src="/static/images/photos/remi.jpg" class="card-img-top">
                                                </div>
                                                <div class="col-md-8">
                                                    <h5 class="card-title">Statistiques</h5>
                                                    <p>
                                                        <div class="progress" style="height: 12px;">
                                                            <div class="progress-bar bg-success" role="progressbar" style="width: 45%;" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100">Env : 45%</div>
                                                        </div>
                                                        <div class="progress" style="height: 12px;">
                                                            <div class="progress-bar bg-primary" role="progressbar" style="width: 40%;" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100">Soc : 40%</div>
                                                        </div>
                                                        <div class="progress" style="height: 12px;">
                                                            <div class="progress-bar bg-danger" role="progressbar" style="width: 15%;" aria-valuenow="15" aria-valuemin="0" aria-valuemax="100">Éco : 15%</div>
                                                        </div>
                                                    </p>
                                                </div>
                                            </div>
                                            <div class="card-body">
                                                <p class="card-text">
                                                    Exemple de programme : Lorem, ipsum dolor sit amet consectetur adipisicing elit. Natus delectus illum eius ad necessitatibus harum hic rerum magni, veritatis temporibus alias incidunt pariatur provident? Dolorum ea alias dolore fuga deleniti!
                                                </p>
                                            </div>
                                            <div class="card-footer">
                                                <div class="d-grid">
                                                    <a href="#!" class="btn btn-outline-danger">Page du candidat</a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="carousel-item">
                                <div class="row row-cols-1 row-cols-md-1 g-4">
                                    <div class="col">
                                        <div class="card h-100 border-danger">
                                            <div class="card-header text-center">
                                                <h5 class="card-title">
                                                    Nom du Candidat
                                                    <br/>
                                                    <small class="text-muted">Travail du candidat</small>
                                                </h5>
                                                <i>"Citation"</i>
                                            </div>
                                            <div class="row g-0 align-items-center" id="cardtop">
                                                <div class="col-md-4">
                                                    <img src="/static/images/photos/remi.jpg" class="card-img-top">
                                                </div>
                                                <div class="col-md-8">
                                                    <h5 class="card-title">Statistiques</h5>
                                                    <p>
                                                        <div class="progress" style="height: 12px;">
                                                            <div class="progress-bar bg-success" role="progressbar" style="width: 30%;" aria-valuenow="30" aria-valuemin="0" aria-valuemax="100">Env : 30%</div>
                                                        </div>
                                                        <div class="progress" style="height: 12px;">
                                                            <div class="progress-bar bg-primary" role="progressbar" style="width: 45%;" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100">Soc : 45%</div>
                                                        </div>
                                                        <div class="progress" style="height: 12px;">
                                                            <div class="progress-bar bg-danger" role="progressbar" style="width: 25%;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">Éco : 25%</div>
                                                        </div>
                                                    </p>
                                                </div>
                                            </div>
                                            <div class="card-body">
                                                <p class="card-text">
                                                    Exemple de programme : Lorem ipsum dolor sit amet consectetur adipisicing elit. Sunt hic nostrum nobis quae fuga, iusto eveniet fugit necessitatibus eligendi voluptatem magni ut, dolorum repellat. Quas tenetur incidunt fugit rem dolores.
                                                </p>
                                            </div>
                                            <div class="card-footer">
                                                <div class="d-grid">
                                                    <a href="#!" class="btn btn-outline-danger">Page du candidat</a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="cand">
        <div class="border border-4 border-danger">
            <h2 class="text-center">Liste des candidats</h2>
        </div>
        <br/>
        <div class="text-center">
            {% for edge in edges %}
                {% if edge|length == 2 %}
                    <div class="accordion" id="accordionPanelsStayOpenExample">
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="panelsStayOpen-heading{{ edge.1 }}">
                                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapse{{ edge.1 }}" aria-expanded="true" aria-controls="panelsStayOpen-collapse{{ edge.1 }}">
                                    <h3>{{ edge.0 }}</h3>
                                </button>
                            </h2>
                            <div id="panelsStayOpen-collapse{{ edge.1 }}" class="accordion-collapse collapse show" aria-labelledby="panelsStayOpen-heading{{ edge.1 }}">
                                <div class="accordion-body">
                                    Pas de candidats.
                                </div>
                            </div>
                        </div>
                    </div>
                    <br/>
                {% else %}
                    <div class="accordion" id="accordionPanelsStayOpenExample">
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="panelsStayOpen-heading{{ edge.1 }}">
                                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapse{{ edge.1 }}" aria-expanded="true" aria-controls="panelsStayOpen-collapse{{ edge.1 }}">
                                    <h3>{{ edge.0 }}</h3>
                                </button>
                            </h2>
                            <div id="panelsStayOpen-collapse{{ edge.1 }}" class="accordion-collapse collapse show" aria-labelledby="panelsStayOpen-heading{{ edge.1 }}">
                                <div class="accordion-body">
                                    <div class="row row-cols-1 row-cols-md-3 g-4">
                                        {% for candidate in edge[2:] %}
                                            <div class="col">
                                                <div class="card h-100 border-danger">
                                                    <div class="card-header text-center">
                                                        <h5 class="card-title">
                                                            {{ candidate.1 }} {{ candidate.2 }}
                                                            <br/>
                                                            <small class="text-muted">{{ jobAbrev[candidate.7] }}</small>
                                                        </h5>
                                                        {% if candidate.4 != None %}
                                                            <i>"{{ candidate.4 }}"</i>
                                                        {% endif %}
                                                    </div>
                                                    <div class="row g-0 align-items-center" id="cardtop">
                                                        <div class="col-md-4">
                                                            {% if candidate.3 == None %}
                                                                <img src="/static/images/defaultProfilePicture.png" class="card-img-top">
                                                            {% else %}
                                                                <img src="/static/images/candidatePictures/{{ candidate.3 }}" class="card-img-top">
                                                            {% endif %}
                                                        </div>
                                                        <div class="col-md-8">
                                                            <h5 class="card-title">Statistiques</h5>
                                                            <p>
                                                                <div class="progress" style="height: 12px;">
                                                                    <div class="progress-bar bg-success" role="progressbar" style="width: {{ candidate.16 }}%;" aria-valuenow="{{ candidate.16 }}" aria-valuemin="0" aria-valuemax="100">Env : {{ candidate.16 }}%</div>
                                                                </div>
                                                                <div class="progress" style="height: 12px;">
                                                                    <div class="progress-bar bg-primary" role="progressbar" style="width: {{ candidate.17 }}%;" aria-valuenow="{{ candidate.17 }}" aria-valuemin="0" aria-valuemax="100">Soc : {{ candidate.17 }}%</div>
                                                                </div>
                                                                <div class="progress" style="height: 12px;">
                                                                    <div class="progress-bar bg-danger" role="progressbar" style="width: {{ candidate.18 }}%;" aria-valuenow="{{ candidate.18 }}" aria-valuemin="0" aria-valuemax="100">Éco : {{ candidate.18 }}%</div>
                                                                </div>
                                                            </p>
                                                        </div>
                                                    </div>
                                                    <div class="card-body">
                                                        <p class="card-text">
                                                            {{ candidate.12 }}
                                                        </p>
                                                    </div>
                                                    <div class="card-footer">
                                                        <div class="d-grid">
                                                            <a href="/program/{{ candidate.1 }}/{{ candidate.2 }}/{{ candidate.0 }}" class="btn btn-outline-danger">Page du candidat</a>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        {% endfor %}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <br/>
                {% endif %}
            {% endfor %}
        </div>
    </div>
    <script src="static/js/home.js"></script>
{% endblock container %}