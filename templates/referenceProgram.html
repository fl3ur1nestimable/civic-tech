<!--
    Authors : Thibault Cheneviere, Elion Hashani, Thom Guillot
    Mail : thibault.cheneviere@telecomnancy.eu, elion.hashani@telecomnancy.eu, thom.guillot@telecomnancy.eu
    Date : 5/01/2022
-->

{% extends 'layout.html' %}

{% block header %}
    <!-- CSS dependencies -->
    <link rel='stylesheet' type='text/css' href="{{ url_for('static', filename='css/referenceProgram.css') }}">

    <title>Référencer son programme</title>
{% endblock header %}

{% block container %}
    <div class="home-banner bg-danger bg-gradient">
        <h2>Bienvenue {{ userData['name'] }}</h2>
    </div>
    <div>
        <div class="border border-4 border-danger">
            <h2 class="text-center">Modifier son programme</h2>
        </div>
        <div>
            <form action="{{ url_for('programBP.define_program') }}" name="surveyInput" method="POST">
                {% if userData['program'] == "" %}
                    <div class="card px-5 py-5">
                        <div class="form-group">
                            <textarea class="form-control" name="programmArea" id="programmArea" rows="5" placeholder="Entrez votre programme ici." required></textarea>
                        </div>
                        <button class="btn btn-danger mt-4" name="Publier" value="Publier" style="
                            width: 30%;
                            margin-left: 35%">
                            Publier
                        </button>
                    </div>
                {% else %}
                    <div class="card px-5 py-5">
                        <div class="form-group">
                            <textarea class="form-control" name="programmArea" id="programmArea" rows="5" required>{{ userData['program'] }}</textarea>
                        </div>
                        <button class="btn btn-danger mt-4" name="Publier" value="Publier" style="
                            width: 30%;
                            margin-left: 35%">
                            Publier
                        </button>
                    </div>
                {% endif %}
            </form>
        </div>
    </div>
    <div>
        <div class="border border-4 border-danger">
            <h2 class="text-center">Liste des membres</h2>
        </div>
        <div>
            <form action="{{ url_for('programBP.define_program') }}" name="memberInput" method="POST">
                <div class="card-1 px-5 py-1">
                    <div class="form-group-12">
                        <table class="table table-danger table-bordered table-hover">
                            <thead class="table-head">
                                <tr>
                                    <div class="div-tr table">
                                        <td>Nom</td>
                                        <td>Prénom</td>
                                        <td>Catégorie socio-professionelle</td>
                                        <td></td>
                                    </div>
                                </tr>
                            </thead>
                            <tbody>
                            {% for items in data %}
                                <tr>
                                    <div class="tr">
                                        <td><a>{{ items[2] }}</a></td>
                                        <td><a>{{ items[1] }}</a></td>
                                        <td>{{ items[4] }}</td>
                                        <td><a class="btn btn-danger btn-delete" href="/delete/Member/{{ items[0] }}/defineProgram">Supprimer</a></td>
                                    </div>
                                </tr>
                            {% endfor %}
                            </tbody>
                        </table>
                        <h4>Ajouter les membres de votre liste</h4>
                        <input autocomplete="off" autofocus name="lastnameMember" id="memberArea" placeholder="Nom" type="text">
                        <input autocomplete="off" autofocus name="firstnameMember" id="memberArea" placeholder="Prénom" type="text">
                        <select name="jobMember">
                            <option disabled selected value="">Catégorie socio-professionelle</option>
                            <option value="Agriculteur exploitant">Agriculteur exploitant</option>
                            <option value="Artisan, Commerçant, Chef d'entreprise">Artisan, Commerçant, Chef d'entreprise</option>
                            <option value="Cadre, Profession intellectuelle supérieure">Cadre, Profession intellectuelle supérieure</option>
                            <option value="Profession intermédiaire">Profession intermédiaire</option>
                            <option value="Employé">Employé</option>
                            <option value="Ouvrier">Ouvrier</option>
                            <option value="Retraité">Retraité</option>
                            <option value="Sans activité professionnelle">Sans activité professionnelle</option>
                        </select>
                        <button class="btn btn-danger mt-4" name="Ajouter" value="Ajouter" style="
                            width: 30%;
                            margin-left: 35%">
                            Ajouter
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>
{% endblock container %}
